<!DOCTYPE html>
<html lang="{{ site.lang | escape | default: "en-US" }}">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Verification + OpenGraph -->
    <meta name="google-site-verification" content="D1j4q-cV9Gg1AeBwwfTfbsahPfNpzC22do1CEia1LRI" />
    <meta property="og:image"
          content="{{ page.ogImageUrl | url_escape | default: "https://drift0r.github.io/assets/images/ogimage.png" }}" />

    <!-- Cyberpunk heading font -->
  <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap">
    
    <!-- Custom CSS -->
    <link rel="stylesheet"
          href="{{ '/assets/css/style.css?v=' | append: site.github.build_revision | relative_url }}">

    {% include head-custom.html %}
    {% seo %}
  </head>

  <body>
    <header class="site-header">
      <div class="container header-inner">
        <a id="a-title" href="{{ '/' | relative_url }}" class="site-title-link">
          <h1 class="site-title">
            {{ site.title | escape | default: site.github.repository_name }}
          </h1>
        </a>

        <p class="site_description">
          {{ site.description | escape | default: site.github.project_tagline }}
        </p>

        {% if site.subtitle %}
        <p class="site_subtitle">
          {{ site.subtitle | escape }}
        </p>
        {% endif %}

        <section id="downloads" class="site-nav">
          <a href="{{ '/' | relative_url }}" class="btn btn-github">Home</a>
          <a href="{{ '/research/' | relative_url }}" class="btn btn-github">Research</a>
          <a href="{{ '/writing/' | relative_url }}" class="btn btn-github">Writing</a>
          <a href="{{ '/blog/' | relative_url }}" class="btn btn-github">Blog</a>
          <a href="{{ '/projects/' | relative_url }}" class="btn btn-github">Projects</a>
          <a href="{{ '/about/' | relative_url }}" class="btn btn-github">About</a>
        </section>
      </div>
    </header>

    <div class="container main-container">
      <section id="main_content">
        {{ content }}
      </section>
    </div>

    <footer class="site-footer">
      <p>Â© <span id="year"></span> {{ site.title }}. All rights reserved.</p>
    </footer>

    <script>
      // Set footer year
      (function () {
        const yearSpan = document.getElementById("year");
        if (yearSpan) {
          yearSpan.textContent = new Date().getFullYear();
        }
      })();

      // Add tiny header links like #, ##, ### to headings with IDs
      (function() {
        const LINK_CONTENT = {
          "H1": "#",
          "H2": "##",
          "H3": "###",
          "H4": "####",
          "H5": "#####",
          "H6": "######",
        };

        document.addEventListener("DOMContentLoaded", function() {
          const headings = document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]");

          for (const heading of headings) {
            const span = document.createElement("span");

            // For the main page title <h1>, we usually don't link it
            if (heading.tagName.toLowerCase() === "h1") {
              span.textContent = LINK_CONTENT[heading.tagName];
              span.className = "headerLink";
            } else {
              const link = document.createElement("a");
              link.href = `#${heading.id}`;
              link.className = "headerLink";
              link.textContent = LINK_CONTENT[heading.tagName];
              span.appendChild(link);
            }

            heading.insertAdjacentElement("afterbegin", span);
          }
        });
      })();
    </script>
  </body>
</html>
